(this["webpackJsonpstudent-scheduler"]=this["webpackJsonpstudent-scheduler"]||[]).push([[37],{182:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var a="https://meet.appui.io:8443",c={GRANT_TYPE:"client_credentials",CLIENT_ID:"1095225836707-p73rgbikb2dbniu8pjdgso14slpir3nf.apps.googleusercontent.com",CLIENT_SECRET:"QBkD6wvItNsLttKtucXjWV1V"}},183:function(t,e,n){"use strict";n.d(e,"C",(function(){return o})),n.d(e,"B",(function(){return u})),n.d(e,"u",(function(){return i})),n.d(e,"F",(function(){return l})),n.d(e,"w",(function(){return s})),n.d(e,"v",(function(){return f})),n.d(e,"t",(function(){return d})),n.d(e,"D",(function(){return h})),n.d(e,"E",(function(){return m})),n.d(e,"y",(function(){return g})),n.d(e,"A",(function(){return p})),n.d(e,"o",(function(){return E})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return N})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return v})),n.d(e,"x",(function(){return w})),n.d(e,"s",(function(){return D})),n.d(e,"z",(function(){return k})),n.d(e,"h",(function(){return j})),n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return P})),n.d(e,"c",(function(){return M})),n.d(e,"k",(function(){return O})),n.d(e,"r",(function(){return x})),n.d(e,"l",(function(){return z})),n.d(e,"g",(function(){return I})),n.d(e,"i",(function(){return C})),n.d(e,"j",(function(){return T})),n.d(e,"f",(function(){return Y})),n.d(e,"d",(function(){return A})),n.d(e,"e",(function(){return B}));var a=n(63),c=n.n(a),r=n(182),o=(btoa(r.a.CLIENT_ID+":"+r.a.CLIENT_SECRET),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"availabilityId";return c.a.get("".concat(r.b,"/search/student-bookings?").concat(e,"=").concat(t)).then((function(t){return console.log(t.data),t.data})).catch((function(t){}))}),u=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/student-bookings?startDate=").concat(t,"&endDate=").concat(e,"&page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},i=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/student-parents?page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},l=function(t){return c.a.get("".concat(r.b,"/tenant-profile/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},s=function(t,e,n,a,o,u,i,l){return c.a.get("".concat(r.b,"/search/schedules?gradeMin=").concat(t,"&gradeMax=").concat(e,"&startDate=").concat(n,"&endDate=").concat(a,"&page=").concat(o,"&size=").concat(u,"&sort=").concat(i,",").concat(l)).then((function(t){return t.data})).catch((function(t){}))},f=function(t){JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id));return c.a.get("".concat(r.b,"/search/schedules?gradeMin=",0,"&gradeMax=",100,"&page=").concat(0,"&size=").concat(100,"&sort=").concat("startDate",",").concat("asc")).then((function(t){return t.data}))},d=function(){return c.a.get("http://ip-api.com/json").then((function(t){return t.data}))},h=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/student-profiles?page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},m=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/teacher-profiles?page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},g=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/customer-messages?category=").concat(t,"&startDate=").concat(e,"&endDate=").concat(n,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},p=function(t){return c.a.get("".concat(r.b,"/student-bookings/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},E=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/student-bookings?firstName=").concat(t,"&startDate=").concat(e,"&endDate=").concat(n,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},b=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/student-parents?email=").concat(t,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},N=function(t,e,n,a,o,u,i,l){return c.a.get("".concat(r.b,"/search/schedules?gradeMin=").concat(t,"&gradeMax=").concat(e,"&startDate=").concat(n,"&endDate=").concat(a,"&page=").concat(o,"&size=").concat(u,"&sort=").concat(i,",").concat(l)).then((function(t){return t.data})).catch((function(t){}))},y=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/student-profiles?firstName=").concat(t,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},v=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/teacher-profiles?firstName=").concat(t,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},w=function(t,e,n,a,o,u,i,l){return c.a.get("".concat(r.b,"/search/customer-messages?category=").concat(t,"&firstName=").concat(e,"&startDate=").concat(n,"&endDate=").concat(a,"&page=").concat(o,"&size=").concat(u,"&sort=").concat(i,",").concat(l)).then((function(t){return t.data})).catch((function(t){}))},D=function(t){return c.a.get("".concat(r.b,"/search/student-profiles?parentId=").concat(t)).then((function(t){return t.data}))},k=function(t,e,n,a,o){return c.a.get("".concat(r.b,"/search/customer-message-templates?category=").concat(t,"&page=").concat(e,"&size=").concat(n)).then((function(t){return t.data})).catch((function(t){}))},j=function(t){return c.a.get("".concat(r.b,"/student-bookings/disable/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},S=function(t,e){var n=[];e.split(",").forEach((function(t){var e={};e.id=t,n.push(e)}));var a={studentBookings:n};return c.a.patch("".concat(r.b,"/teacher-availability/").concat(t),a).then((function(t){return t.data})).catch((function(t){}))},P=function(t,e){var n={teacherProfile:{conferenceUrl:e}};return c.a.patch("".concat(r.b,"/teacher-availability/").concat(t),n).then((function(t){return t.data})).catch((function(t){}))},M=function(t){return c.a.get("".concat(r.b,"/bridge?open=").concat(t)).then((function(t){return t.data})).catch((function(t){}))},O=function(t,e){return c.a.get("".concat(r.b,"/student-bookings/update/").concat(t,"?subject=").concat(e)).then((function(t){return t})).catch((function(t){}))},x=function(t){return c.a.get("".concat(r.b,"/student-booking/").concat(t)).then((function(t){return t})).catch((function(t){}))},z=function(t,e,n){return c.a.get("".concat(r.b,"/teachers_availabilities/update/").concat(t,"?subjects=").concat(e,"&grades=").concat(n)).then((function(t){return t})).catch((function(t){}))},I=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/schedule?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},C=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/schedule?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},T=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/schedule?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},Y=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/student-parent?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},A=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/teacher-availability?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},B=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/student-booking?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))}},233:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(72);var c=n(90);function r(t){return function(t){if(Array.isArray(t))return Object(a.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},546:function(t,e,n){"use strict";n.r(e);var a=n(233),c=n(49),r=n(0),o=n.n(r),u=n(86),i=n(236),l=n(564),s=n(293),f=n(532),d=n(343),h=n(204),m=n(263),g=n(9),p=n(183),E=n(191),b=n.n(E),N=n(240),y=n(237);e.default=function(t){var e=Object(g.h)(),n=Object(g.g)(),E=(t.match.params,Object(r.useState)([])),v=Object(c.a)(E,2),w=v[0],D=v[1],k=Object(r.useState)(!0),j=Object(c.a)(k,2),S=j[0],P=j[1],M=Object(r.useState)(e.state.student),O=Object(c.a)(M,2),x=O[0];O[1],Object(r.useEffect)((function(){console.log(x),z()}),[]);var z=function(){P(!0),Object(p.C)(e.state.student.id,"profileId").then((function(t){t.content.forEach((function(t){var e=new Object;e.studentProfile=new Object,e.studentProfile.firstName=t.studentProfile.firstName,e.studentProfile.grade=t.studentProfile.grade,e.studentProfile.lastName=t.studentProfile.lastName,e.studentProfile.onlineStatus=t.studentProfile.onlineStatus,e.studentProfile.id=t.studentProfile.id,e.studentProfile.schedule=t.schedule,e.studentProfile.studentProfile=t.studentProfile,D([].concat(Object(a.a)(w),[e.studentProfile]))}))})).catch((function(t){console.log(t),D([])})).finally((function(){return P(!1)}))},I=[{title:o.a.createElement("div",null,o.a.createElement("span",null,"Name ")),render:function(t){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement(u.a,{title:null!=t.lastSeenRoom?t.lastSeenRoom:"No last seen room"},o.a.createElement(N.a,{icon:y.a,color:"green",style:{display:0==t.onlineStatus?"block":"none"}}),o.a.createElement(N.a,{icon:y.a,color:"orange",style:{display:1==t.onlineStatus?"block":"none"}}),o.a.createElement(N.a,{icon:y.a,color:"red",style:{display:2==t.onlineStatus?"block":"none"}})),o.a.createElement(u.a,{title:t.firstName+" "+t.lastName},o.a.createElement(i.a,{style:{backgroundColor:"transparent",border:"0px",cursor:"pointer",width:"60%"},onClick:function(e){e.stopPropagation(),n.push("/studentlist/studentDetail/".concat(t.id),{student:t})}},o.a.createElement("p",{style:{width:"50%",textAlign:"left"}},(t.firstName+" "+t.lastName).length<=20?t.firstName+" "+t.lastName:(t.firstName+" "+t.lastName).substring(0,19)+"..."))))},key:"name",fixed:"left"},{title:o.a.createElement("div",null,o.a.createElement("span",null,"Start Date ")),render:function(t){return o.a.createElement("div",null,o.a.createElement(b.a,{local:!0,format:"D MMM YYYY HH:MM",withTitle:!0},t.schedule.startDate))},key:"startDate"},{title:o.a.createElement("div",null,o.a.createElement("span",null,"End Date ")),render:function(t){return o.a.createElement("div",null,o.a.createElement(b.a,{local:!0,format:"D MMM YYYY HH:MM",withTitle:!0},t.schedule.endDate))},key:"endDate"},{title:o.a.createElement("div",null,o.a.createElement("span",null,"Subject")),render:function(t){return o.a.createElement("div",null,t.schedule.subject)},key:"subject"},{title:"Grade",dataIndex:"grade",key:"grade"}];return o.a.createElement("div",null,x?o.a.createElement(l.a,{ghost:!1,extra:[o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(i.a,{key:"3",type:"primary",style:{display:"flex"},onClick:function(t){t.stopPropagation(),n.push("/studentprofiles/".concat(x.id,"/update"),{student:x})}},"Edit"))],title:o.a.createElement("p",{style:{fontSize:"3em",textAlign:"center",marginTop:"20px",marginBottom:"20px"}},x.firstName," ",x.lastName)},o.a.createElement(s.a,{gutter:24,style:{marginBottom:"3%"}},o.a.createElement(f.a,{title:"Student informations",hoverable:!0,bordered:!0,style:{width:"48%",marginLeft:"2%"}},o.a.createElement(s.a,{gutter:16},o.a.createElement(d.a,{className:"gutter-row",span:8},o.a.createElement("h4",null,"Period")),o.a.createElement(d.a,{className:"gutter-row",span:14},o.a.createElement("h4",null,o.a.createElement(b.a,{local:!0,format:"D MMM YYYY HH:MM",withTitle:!0},x.startDate)))),o.a.createElement(s.a,{gutter:16},o.a.createElement(d.a,{className:"gutter-row",span:8},o.a.createElement("h4",null,"Grade")),o.a.createElement(d.a,{className:"gutter-row",span:14},o.a.createElement("h4",null,x.grade))),o.a.createElement(s.a,{gutter:16},o.a.createElement(d.a,{className:"gutter-row",span:8},o.a.createElement("h4",null,"Email")),o.a.createElement(d.a,{className:"gutter-row",span:14},o.a.createElement("h4",null,x.email))),o.a.createElement(s.a,{gutter:16},o.a.createElement(d.a,{className:"gutter-row",span:8},o.a.createElement("h4",null,"Conference URL")),o.a.createElement(d.a,{className:"gutter-row",span:14},o.a.createElement("h4",{onClick:function(){return window.open(x.conferenceUrl.includes("http")?x.conferenceUrl:"http://"+x.conferenceUrl)}},x.conferenceUrl))),o.a.createElement(s.a,{gutter:16},o.a.createElement(d.a,{className:"gutter-row",span:8},o.a.createElement("h4",null,"Parent Email")),o.a.createElement(d.a,{className:"gutter-row",span:14},o.a.createElement("h4",null,x.parent?x.parent.email:""))),o.a.createElement(s.a,{gutter:16},o.a.createElement(d.a,{className:"gutter-row",span:8},o.a.createElement("h4",null,"School Name")),o.a.createElement(d.a,{className:"gutter-row",span:14},o.a.createElement("h4",null,x.schoolName))),o.a.createElement(s.a,{gutter:16},o.a.createElement(d.a,{className:"gutter-row",span:8},o.a.createElement("h4",null,"School Board")),o.a.createElement(d.a,{className:"gutter-row",span:14},o.a.createElement("h4",null,x.schoolBoard))))),S?o.a.createElement(h.a,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,x.firstName," ",x.lastName,"'s bookings "),o.a.createElement(m.a,{columns:I,dataSource:w,rowKey:"id"}))):null)}}}]);
//# sourceMappingURL=37.31a327ce.chunk.js.map