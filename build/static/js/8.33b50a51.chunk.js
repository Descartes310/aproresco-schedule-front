(this["webpackJsonpstudent-scheduler"]=this["webpackJsonpstudent-scheduler"]||[]).push([[8],{146:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n(150),c=n.n(a),r=function(e){return c.a.get("http://tower.watu.fi:8080/students/search/findByTeacherId?id=".concat(e)).then((function(e){return console.log(e.data),e.data})).catch((function(e){alert(e.message)}))},o=function(e,t,n,a){return c.a.get("http://tower.watu.fi:8080/students?page=".concat(e,"&size=").concat(t,"&sort=").concat(n,"&").concat(n,".dir=").concat(a)).then((function(e){return e.data})).catch((function(e){alert(e.message)}))},i=function(e){return c.a.get("http://tower.watu.fi:8080/students/".concat(e)).then((function(e){return e.data})).catch((function(e){alert(e.message)}))},l=function(e,t,n,a){return c.a.get("http://tower.watu.fi:8080/students/search/findByFirstNameIgnoreCaseContainingOrLastNameIgnoreCaseContaining?firstName=".concat(e,"&lastName=").concat(t,"&sort=").concat(n,",").concat(a)).then((function(e){return e.data})).catch((function(e){alert(e.message)}))},s=function(e,t){return c.a.get("http://tower.watu.fi:8080/plan/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){alert(e.message)}))}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(81),c=function(e){return function(t){t({type:a.a,payload:e})}}},372:function(e,t,n){"use strict";n.r(t);var a=n(80),c=n(66),r=n(163),o=n(0),i=n.n(o),l=n(82),s=(n(99),n(9)),u=n(2),f=n.n(u),d=n(48),m=n.n(d),p=n(3),g=n.n(p),b=n(201),h=n.n(b),v=n(24),C=n(77),O=n(162),E=n(209),j=n(75),y=n(78),N=n(93),k=n(202),w=n(28),S=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},x=o.forwardRef((function(e,t){var n=o.useState(e.visible),a=m()(n,2),c=a[0],r=a[1];o.useEffect((function(){"visible"in e&&r(e.visible)}),[e.visible]),o.useEffect((function(){"defaultVisible"in e&&r(e.defaultVisible)}),[e.defaultVisible]);var i=function(t,n){"visible"in e||r(t),e.onVisibleChange&&e.onVisibleChange(t,n)},l=function(t){i(!1,t),e.onConfirm&&e.onConfirm.call(void 0,t)},s=function(t){i(!1,t),e.onCancel&&e.onCancel.call(void 0,t)},u=o.useContext(N.b).getPrefixCls,d=e.prefixCls,p=e.placement,b=e.children,h=e.overlayClassName,x=S(e,["prefixCls","placement","children","overlayClassName"]),I=u("popover",d),z=u("popconfirm",d),T=g()(z,h),P=o.createElement(j.a,{componentName:"Popconfirm",defaultLocale:y.a.Popconfirm},(function(t){return function(t,n){var a=e.okButtonProps,c=e.cancelButtonProps,r=e.title,i=e.cancelText,u=e.okText,d=e.okType,m=e.icon;return o.createElement("div",{className:"".concat(t,"-inner-content")},o.createElement("div",{className:"".concat(t,"-message")},m,o.createElement("div",{className:"".concat(t,"-message-title")},Object(k.a)(r))),o.createElement("div",{className:"".concat(t,"-buttons")},o.createElement(O.a,f()({onClick:s,size:"small"},c),i||n.cancelText),o.createElement(O.a,f()({onClick:l},Object(E.a)(d),{size:"small"},a),u||n.okText)))}(I,t)}));return o.createElement(C.a,f()({},x,{prefixCls:I,placement:p,onVisibleChange:function(t){e.disabled||i(t)},visible:c,overlay:P,overlayClassName:T,ref:t}),Object(w.a)(b,{onKeyDown:function(e){var t,n;o.isValidElement(b)&&(null===(n=null===b||void 0===b?void 0:(t=b.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===v.a.ESC&&c&&i(!1,e)}(e)}}))}));x.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:o.createElement(h.a,null),disabled:!1};var I=x,z=n(370),T=n(332),P=n(367),L=n(150),V=n.n(L),B=n(146),A=n(165),F=n(208),D=n(368),G=n(371),J=(F.a.Option,function(e){var t=e.changeInput,n=(e.defultType,e.searchList);return i.a.createElement(D.a,{layout:"inline"},i.a.createElement(D.a.Item,{label:"Name"},i.a.createElement(G.a,{type:"text",placeholder:"Enter First Name",name:"name",onChange:t})),i.a.createElement(O.a,{onClick:n}," Search "))}),K=n(374),R=n(373);t.default=function(){var e=Object(s.g)(),t=Object(l.b)(),n=Object(l.c)((function(e){return e.Student.assignStudent})),u=Object(o.useState)(),f=Object(r.a)(u,2),d=f[0],m=f[1],p=Object(o.useState)(""),g=Object(r.a)(p,2),b=g[0],h=g[1],v=Object(o.useState)(""),C=Object(r.a)(v,2),E=C[0],j=C[1],y=Object(o.useState)({totalCount:0,pageIndex:0,pageSize:30}),N=Object(r.a)(y,2),k=N[0],w=N[1],S=Object(o.useState)({name:"",firstName:"",lastName:""}),x=Object(r.a)(S,2),L=x[0],F=x[1],D=i.a.createElement("div",null,i.a.createElement("h3",null,"Assign Student List"),n.map((function(e,t){return i.a.createElement("div",{key:e.id},i.a.createElement("spann",null,t+1,". ",e.firstName," ",e.lastName))}))),G=[{title:i.a.createElement("div",null,i.a.createElement("span",null,"Name "),"firstName"===b&&"asc"===E&&i.a.createElement(K.a,null),"firstName"===b&&"desc"===E&&i.a.createElement(R.a,null),"firstName"===b&&""===E&&""),onHeaderCell:function(e){return{onClick:function(){h("firstName"),""==E?j("asc"):"asc"==E?j("desc"):"desc"==E&&(j(""),h(""))}}},render:function(e){return i.a.createElement("div",null,e.firstName+" "+e.lastName)},key:"name",fixed:"left"},{title:"Period",dataIndex:"period",key:"period"},{title:"Subjects",key:"subjects",render:function(e){return i.a.createElement("div",null,e.subjects.join(", "))}},{title:"Grades",key:"grades",render:function(e){return i.a.createElement("div",null,e.grades.join(", "))}},{title:"Student Count",dataIndex:"studentCount",key:"studentCount"},{title:"Action",key:"operation",fixed:"right",render:function(e){return i.a.createElement("div",null,i.a.createElement(I,{icon:!1,title:D,placement:"left",onConfirm:function(t){var a=[];n.map((function(e){a.push(e.id)}));var c=a.join(",");Object(B.a)(e.id,c).then((function(e){console.log(e)}))},onCancel:function(){t(Object(A.a)([]))},okText:"Assign",cancelText:"Cancel",disabled:!(n.length>0)},i.a.createElement(O.a,{disabled:!(n.length>0),onClick:function(e){return e.stopPropagation()}},"Assign Students")))}}];Object(o.useEffect)((function(){_()}),[k.pageIndex]),Object(o.useEffect)((function(){_()}),[E,b]);var _=function(){var e,t,n,a;console.log(E),m(""),""===L.firstName&&""===L.lastName?(e=k.pageIndex,t=k.pageSize,n=b,a=E,V.a.get("http://tower.watu.fi:8080/teachers?page=".concat(e,"&size=").concat(t,"&sort=").concat(n,"&").concat(n,".dir=").concat(a)).then((function(e){return e.data}))).then((function(e){m(e._embedded.teachers),w(Object(c.a)(Object(c.a)({},k),{},{totalCount:e.page.totalElements}))})):function(e,t,n,a){return V.a.get("http://tower.watu.fi:8080/teachers/search/findByFirstNameIgnoreCaseContainingOrLastNameIgnoreCaseContaining?firstName=".concat(e,"&lastName=").concat(t,"&sort=").concat(n,",").concat(a)).then((function(e){return e.data}))}(L.firstName,L.lastName,b,E).then((function(e){m(e._embedded.teachers),w({totalCount:1,pageIndex:0,pageSize:30})}))};return i.a.createElement(z.a,{ghost:!1,title:"Teacher List View",extra:[i.a.createElement(O.a,{key:"1",type:"primary"},"Genrate Calender"),i.a.createElement(O.a,{key:"2",type:"primary"},"Launch Schedule")]},i.a.createElement(J,{changeInput:function(e){var t=e.target,n=t.name,r=t.value;if(F(Object(c.a)(Object(c.a)({},L),{},Object(a.a)({},n,r))),"name"===e.target.name){var o=r.split(" ");o.length>1?F(Object(c.a)(Object(c.a)({},L),{},{firstName:o[0],lastName:o[1]})):F(Object(c.a)(Object(c.a)({},L),{},{firstName:o[0],lastName:o[0]}))}},searchList:function(){_()}}),d?i.a.createElement(P.a,{className:"table-padding",columns:G,dataSource:d,onChange:function(e,t,n){w(Object(c.a)(Object(c.a)({},k),{},{pageIndex:e.current,pageSize:e.pageSize}))},pagination:{total:k.totalCount,pageSize:k.pageSize,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," out of ").concat(e)}},onRow:function(t){return{onClick:function(){return e.push("/studentlist/teacher/".concat(t.id))}}}}):i.a.createElement(T.a,{className:"loading-table"}))}}}]);
//# sourceMappingURL=8.33b50a51.chunk.js.map