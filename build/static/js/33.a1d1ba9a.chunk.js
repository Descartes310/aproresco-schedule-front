(this["webpackJsonpstudent-scheduler"]=this["webpackJsonpstudent-scheduler"]||[]).push([[33],{147:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var a="https://meet.appui.io:8443",c={GRANT_TYPE:"client_credentials",CLIENT_ID:"1095225836707-p73rgbikb2dbniu8pjdgso14slpir3nf.apps.googleusercontent.com",CLIENT_SECRET:"QBkD6wvItNsLttKtucXjWV1V"}},148:function(t,e,n){"use strict";n.d(e,"D",(function(){return o})),n.d(e,"C",(function(){return u})),n.d(e,"v",(function(){return i})),n.d(e,"H",(function(){return l})),n.d(e,"x",(function(){return s})),n.d(e,"w",(function(){return f})),n.d(e,"u",(function(){return d})),n.d(e,"E",(function(){return g})),n.d(e,"G",(function(){return h})),n.d(e,"z",(function(){return m})),n.d(e,"B",(function(){return p})),n.d(e,"p",(function(){return b})),n.d(e,"n",(function(){return S})),n.d(e,"o",(function(){return v})),n.d(e,"q",(function(){return y})),n.d(e,"r",(function(){return O})),n.d(e,"y",(function(){return E})),n.d(e,"t",(function(){return D})),n.d(e,"A",(function(){return j})),n.d(e,"i",(function(){return I})),n.d(e,"c",(function(){return N})),n.d(e,"b",(function(){return x})),n.d(e,"d",(function(){return C})),n.d(e,"l",(function(){return k})),n.d(e,"s",(function(){return w})),n.d(e,"m",(function(){return T})),n.d(e,"h",(function(){return A})),n.d(e,"j",(function(){return M})),n.d(e,"k",(function(){return P})),n.d(e,"g",(function(){return J})),n.d(e,"e",(function(){return z})),n.d(e,"f",(function(){return R})),n.d(e,"K",(function(){return F})),n.d(e,"I",(function(){return q})),n.d(e,"J",(function(){return U})),n.d(e,"F",(function(){return B})),n.d(e,"a",(function(){return H}));var a=n(55),c=n.n(a),r=n(147),o=(btoa(r.a.CLIENT_ID+":"+r.a.CLIENT_SECRET),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"availabilityId";return c.a.get("".concat(r.b,"/search/student-bookings?").concat(e,"=").concat(t)).then((function(t){return console.log(t.data),t.data})).catch((function(t){}))}),u=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/student-bookings?startDate=").concat(t,"&endDate=").concat(e,"&page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},i=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/student-parents?page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},l=function(t){return c.a.get("".concat(r.b,"/tenant-profile/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},s=function(t,e,n,a,o,u,i,l){return c.a.get("".concat(r.b,"/search/schedules?gradeMin=").concat(t,"&gradeMax=").concat(e,"&startDate=").concat(n,"&endDate=").concat(a,"&page=").concat(o,"&size=").concat(u,"&sort=").concat(i,",").concat(l)).then((function(t){return t.data})).catch((function(t){}))},f=function(t){JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id));return c.a.get("".concat(r.b,"/search/schedules?gradeMin=",0,"&gradeMax=",100,"&page=").concat(0,"&size=").concat(100,"&sort=").concat("startDate",",").concat("asc")).then((function(t){return t.data}))},d=function(){return c.a.get("http://ip-api.com/json").then((function(t){return t.data}))},g=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/student-profiles?page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},h=function(t,e,n,a,o,u){return c.a.get("".concat(r.b,"/search/teacher-profiles?page=").concat(n,"&size=").concat(a,"&sort=").concat(o,",").concat(u)).then((function(t){return t.data})).catch((function(t){}))},m=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/customer-messages?category=").concat(t,"&startDate=").concat(e,"&endDate=").concat(n,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},p=function(t){return c.a.get("".concat(r.b,"/student-bookings/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},b=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/student-bookings?firstName=").concat(t,"&startDate=").concat(e,"&endDate=").concat(n,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},S=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/student-parents?email=").concat(t,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},v=function(t,e,n,a,o,u,i,l){return c.a.get("".concat(r.b,"/search/schedules?gradeMin=").concat(t,"&gradeMax=").concat(e,"&startDate=").concat(n,"&endDate=").concat(a,"&page=").concat(o,"&size=").concat(u,"&sort=").concat(i,",").concat(l)).then((function(t){return t.data})).catch((function(t){}))},y=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/student-profiles?firstName=").concat(t,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},O=function(t,e,n,a,o,u,i){return c.a.get("".concat(r.b,"/search/teacher-profiles?firstName=").concat(t,"&page=").concat(a,"&size=").concat(o,"&sort=").concat(u,",").concat(i)).then((function(t){return t.data})).catch((function(t){}))},E=function(t,e,n,a,o,u,i,l){return c.a.get("".concat(r.b,"/search/customer-messages?category=").concat(t,"&firstName=").concat(e,"&startDate=").concat(n,"&endDate=").concat(a,"&page=").concat(o,"&size=").concat(u,"&sort=").concat(i,",").concat(l)).then((function(t){return t.data})).catch((function(t){}))},D=function(t){return c.a.get("".concat(r.b,"/search/student-profiles?parentId=").concat(t)).then((function(t){return t.data}))},j=function(t,e,n,a,o){return c.a.get("".concat(r.b,"/search/customer-message-templates?category=").concat(t,"&page=").concat(e,"&size=").concat(n)).then((function(t){return t.data})).catch((function(t){}))},I=function(t){return c.a.get("".concat(r.b,"/student-bookings/disable/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},N=function(t,e){var n=[];e.split(",").forEach((function(t){var e={};e.id=t,n.push(e)}));var a={studentBookings:n};return c.a.patch("".concat(r.b,"/teacher-availability/").concat(t),a).then((function(t){return t.data})).catch((function(t){}))},x=function(t,e){var n={teacherProfile:{conferenceUrl:e}};return c.a.patch("".concat(r.b,"/teacher-availability/").concat(t),n).then((function(t){return t.data})).catch((function(t){}))},C=function(t){return c.a.get("".concat(r.b,"/bridge?open=").concat(t)).then((function(t){return t.data})).catch((function(t){}))},k=function(t,e){return c.a.get("".concat(r.b,"/student-bookings/update/").concat(t,"?subject=").concat(e)).then((function(t){return t})).catch((function(t){}))},w=function(t){return c.a.get("".concat(r.b,"/student-booking/").concat(t)).then((function(t){return t})).catch((function(t){}))},T=function(t,e,n){return c.a.get("".concat(r.b,"/teachers_availabilities/update/").concat(t,"?subjects=").concat(e,"&grades=").concat(n)).then((function(t){return t})).catch((function(t){}))},A=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/schedule?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},M=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/schedule?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},P=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/schedule?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},J=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/student-parent?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},z=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/teacher-availability?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},R=function(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="id="+t:n+="id="+t+"&"})),c.a.delete("".concat(r.b,"/student-booking?").concat(n)).then((function(t){return t})).catch((function(t){return console.log(t)}))},F=function(t){return c.a.post("".concat(r.b,"/message\u200b/").concat(t,"/students")).then((function(t){return t})).catch((function(t){return console.log(t)}))},q=function(t){return c.a.post("".concat(r.b,"/message/").concat(t,"/bookings")).then((function(t){return t})).catch((function(t){return console.log(t)}))},U=function(t,e){return c.a.post("".concat(r.b,"/message/booking/").concat(t),e).then((function(t){return t})).catch((function(t){return console.log(t)}))},B=function(t,e,n,a){return c.a.get("".concat(r.b,"/search/tags?page=").concat(t,"&size=").concat(e,"&sort=").concat(n,",").concat(a)).then((function(t){return t.data})).catch((function(t){return console.log(t)}))},H=function(t){return c.a.post("".concat(r.b,"/tag")).then((function(t){return t.data})).catch((function(t){return console.log(t)}))}},151:function(t,e,n){"use strict";n.d(e,"q",(function(){return u})),n.d(e,"o",(function(){return i})),n.d(e,"p",(function(){return l})),n.d(e,"s",(function(){return s})),n.d(e,"l",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"r",(function(){return g})),n.d(e,"m",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"n",(function(){return p})),n.d(e,"g",(function(){return b})),n.d(e,"z",(function(){return S})),n.d(e,"h",(function(){return v})),n.d(e,"A",(function(){return y})),n.d(e,"C",(function(){return O})),n.d(e,"i",(function(){return E})),n.d(e,"d",(function(){return D})),n.d(e,"x",(function(){return j})),n.d(e,"a",(function(){return I})),n.d(e,"B",(function(){return N})),n.d(e,"c",(function(){return x})),n.d(e,"w",(function(){return C})),n.d(e,"b",(function(){return k})),n.d(e,"v",(function(){return w})),n.d(e,"f",(function(){return T})),n.d(e,"y",(function(){return A})),n.d(e,"e",(function(){return M})),n.d(e,"u",(function(){return P})),n.d(e,"t",(function(){return J}));var a=n(24),c=n(55),r=n.n(c),o=n(147),u=function(t,e){var n=JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id)),a={roles:["supervisor"],tenant:{key:n}};return e?r.a.post("".concat(o.b,"/teacher-profile/").concat(t,"/roles"),a).then((function(t){return t.data})):r.a.delete("".concat(o.b,"/teacher-profile/").concat(t,"/tenant/").concat(n,"/role/supervisor")).then((function(t){return t.data}))},i=function(t,e){var n=JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id)),a={roles:["admin"],tenant:{key:n}};return e?r.a.post("".concat(o.b,"/teacher-profile/").concat(t,"/roles"),a).then((function(t){return t.data})):r.a.delete("".concat(o.b,"/teacher-profile/").concat(t,"/tenant/").concat(n,"/role/admin")).then((function(t){return t.data}))},l=function(t,e){var n={tenants:[{tenant:{key:JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id))}}]};return e?r.a.post("".concat(o.b,"/teacher-profile/").concat(t,"/approval"),n).then((function(t){return t.data})):r.a.delete("".concat(o.b,"/teacher-profile/").concat(t,"/approval"),n).then((function(t){return t.data}))},s=function(t){var e={key:t},n=JSON.parse(localStorage.getItem("id"));return r.a.post("".concat(o.b,"/teacher-profile/").concat(n,"/tenant"),e).then((function(t){return t.data}))},f=function(t,e,n,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"firstName",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"asc";if(null==t||null==e){var i=new Date;i.setDate(i.getDate()-1);var l=i.getDate()<10?"0"+i.getDate():i.getDate(),s=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,f=i.getFullYear(),d=i.getHours().toString().padStart(2,"0"),g=i.getMinutes().toString().padStart(2,"0");null!=localStorage.getItem("startDate")&&null!=localStorage.getItem("toStart")||(localStorage.setItem("startDate",f+"-"+s+"-"+l),localStorage.setItem("toStart",s+"%2F"+l+"%2F"+f+"%20"+d+":"+g+":00 -0500"),t=s+"%2F"+l+"%2F"+f+"%20"+d+":"+g+":00 -0500"),null==localStorage.getItem("startTime")&&localStorage.setItem("startTime",i.getHours().toString().padStart(2,"0")+":"+i.getMinutes().toString().padStart(2,"0")),(i=new Date).setDate(i.getDate()+1),l=i.getDate()<10?"0"+i.getDate():i.getDate(),s=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,f=i.getFullYear(),d=i.getHours().toString().padStart(2,"0"),g=i.getMinutes().toString().padStart(2,"0"),null!=localStorage.getItem("endDate")&&null!=localStorage.getItem("toEnd")||(localStorage.setItem("endDate",f+"-"+s+"-"+l),localStorage.setItem("toEnd",s+"%2F"+l+"%2F"+f+"%20"+d+":"+g+":00 -0500"),e=s+"%2F"+l+"%2F"+f+"%20"+d+":"+g+":00 -0500"),null==localStorage.getItem("endTime")&&localStorage.setItem("endTime",i.getHours().toString().padStart(2,"0")+":"+i.getMinutes().toString().padStart(2,"0"))}return r.a.get("".concat(o.b,"/search/teacher-availabilities?startDate=").concat(t,"&endDate=").concat(e,"&page=").concat(n,"&size=").concat(a,"&sort=").concat(c,",").concat(u),{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type","Access-Control-Allow-Methods":"GET, POST, OPTIONS, DELETE, PATCH","Access-Control-Allow-Credentials":"true"}}).then((function(t){return t.data})).catch((function(t){}))},d=function(t){return r.a.get("".concat(o.b,"/teacher-availabilities/disable/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},g=function(t,e){return r.a.get("".concat(o.b,"/teacher-availabilities/update/").concat(t,"?present=").concat(e)).then((function(t){return t.data})).catch((function(t){}))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t=null==t?JSON.parse(localStorage.getItem("email")):t,r.a.get("".concat(o.b,"/teacher-profile/email/").concat(t)).then((function(t){return t.data})).catch((function(t){}))},m=function(t,e,n,a,c){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"firstName",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"asc";return r.a.get("".concat(o.b,"/search/teacher-availabilities?firstName=").concat(t,"&startDate=").concat(e,"&endDate=").concat(n,"&page=").concat(a,"&size=").concat(c,"&sort=").concat(u,",").concat(i),{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type","Access-Control-Allow-Methods":"GET, POST, OPTIONS, DELETE, PATCH","Access-Control-Allow-Credentials":"true"}}).then((function(t){return t.data}))},p=function(t){var e=new FormData;e.append("token",t),e.append("provider","google");var n={token:t,provider:"google"};return r.a.post("".concat(o.b,"/oauth/verify"),n).then((function(t){localStorage.setItem("token",JSON.stringify(t.data));var e=new Date;return e.setDate(e.getDate()+30),localStorage.setItem("expireAt",e),t}))},b=function(t){return r.a.post("".concat(o.b,"/schedule"),t).then((function(t){return t})).catch((function(t){return console.log(t)}))},S=function(t,e){return r.a.patch("".concat(o.b,"/schedule/").concat(t),e).then((function(t){return t})).catch((function(t){return console.log(t)}))},v=function(t,e,n,a,c,u,i){var l={firstName:t,lastName:e,email:n,schoolName:a,schoolBoard:c,grade:u,parent:{email:i}};return r.a.post("".concat(o.b,"/student-profile"),l).then((function(t){return t})).catch((function(t){return console.log(t)}))},y=function(t,e,n,a,c,u,i,l){var s={firstName:e,lastName:n,email:a,schoolName:c,schoolBoard:u,grade:i,parent:{email:l}};return r.a.patch("".concat(o.b,"/student-profile/").concat(t),s).then((function(t){return t})).catch((function(t){return console.log(t)}))},O=function(t,e,n,a,c,u,i,l){var s={conferenceUrlPrefix:n,displayName:e,key:t,staticWelcomeUrl:i,videoServerUrl:u,maxTeacherPerSupervisor:a,primaryContact:l,supportUrl:c};return r.a.patch("".concat(o.b,"/tenant-profile/").concat(t),s).then((function(t){return t})).catch((function(t){return console.log(t)}))},E=function(t,e,n,a,c,u,i,l){var s={firstName:t,lastName:e,externalEmail:n,schoolName:a,schoolBoard:c,grades:u,phoneNumber:l,subjects:i};return r.a.post("".concat(o.b,"/teacher-profile/register"),s).then((function(t){return t})).catch((function(t){return console.log(t)}))},D=function(t,e){var n={content:e,commenter:{id:JSON.parse(localStorage.getItem("user")).id},tenant:{key:JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id))}};return r.a.post("".concat(o.b,"/student-booking/").concat(t,"/teacher-comment"),n).then((function(t){return t})).catch((function(t){return console.log(t)}))},j=function(t,e){var n={content:e};return r.a.patch("".concat(o.b,"/teacher-comment/").concat(t),n).then((function(t){return t})).catch((function(t){return console.log(t)}))},I=function(t){var e=Object(a.a)(Object(a.a)({},t),{},{approver:{id:JSON.parse(localStorage.getItem("user")).id}});return r.a.post("".concat(o.b,"/teacher-comment/").concat(t.id,"/approval"),e).then((function(t){return t})).catch((function(t){return console.log(t)}))},N=function(t,e,n,a,c,u,i,l,s){var f={firstName:e,lastName:n,schoolName:l,schoolBoard:s,externalEmail:a,grades:c,phoneNumber:i,subjects:u};return r.a.patch("".concat(o.b,"/teacher-profile/update/").concat(t),f).then((function(t){return t})).catch((function(t){return console.log(t)}))},x=function(t,e,n){var a={studentProfile:t,schedule:e,studentComment:n};return r.a.post("".concat(o.b,"/student-booking"),a).then((function(t){return t})).catch((function(t){return console.log(t)}))},C=function(t,e,n,a){var c={studentProfile:e,schedule:n,studentComment:a};return r.a.patch("".concat(o.b,"/student-booking/").concat(t),c).then((function(t){return t})).catch((function(t){return console.log(t)}))},k=function(t,e){var n={teacherProfile:t,schedule:e};return r.a.post("".concat(o.b,"/teacher-availability"),n).then((function(t){return t})).catch((function(t){return console.log(t)}))},w=function(t,e,n){var a={teacherProfile:e,schedule:n};return r.a.patch("".concat(o.b,"/teacher-availability/").concat(t),a).then((function(t){return t})).catch((function(t){return console.log(t)}))},T=function(t,e,n,a,c){var u={phoneNumber:n,countryCode:a,firstName:t,lastName:e,email:c,tenants:[{key:JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id))}]};return r.a.post("".concat(o.b,"/student-parent"),u).then((function(t){return t})).catch((function(t){return console.log(t)}))},A=function(t,e,n,a,c,u){var i={phoneNumber:a,countryCode:c,firstName:e,lastName:n,email:u};return r.a.patch("".concat(o.b,"/student-parent/").concat(t),i).then((function(t){return t})).catch((function(t){return console.log(t)}))},M=function(t,e,n,a,c,u,i,l){var s="StudentProfile"==t?"reminder/students":"reminder/teachers";return r.a.get("".concat(o.b,"/").concat(s,"?message=").concat(a,"&subject=").concat(c,"&firstName=").concat(l,"&async=").concat(u,"&saveAstemplate=").concat(i)).then((function(t){return t})).catch((function(t){return console.log(t)}))},P=function(t){return r.a.post("".concat(o.b,"/message\u200b/").concat(t,"/teachers")).then((function(t){return t})).catch((function(t){return console.log(t)}))},J=function(t){return r.a.post("".concat(o.b,"/message/").concat(t,"/availabilities")).then((function(t){return t})).catch((function(t){return console.log(t)}))}},153:function(t,e,n){},181:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(61);var c=n(75);function r(t){return function(t){if(Array.isArray(t))return Object(a.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},518:function(t,e,n){"use strict";n.r(e);var a=n(181),c=n(43),r=n(68),o=n(24),u=n(0),i=n.n(u),l=n(535),s=n(533),f=n(534),d=n(167),g=n(190),h=(n(101),n(153),n(151)),m=n(148),p=n(11),b=l.a.TextArea,S=function(t,e){return Object(o.a)(Object(o.a)({},t),{},Object(r.a)({},e.name,e.value))},v=["1","2","3","4","5","6","7","8","9","10","11","12"];e.default=function(){var t=Object(p.g)(),e=Object(u.useState)(!1),n=Object(c.a)(e,2),r=(n[0],n[1],Object(u.useState)(!1)),o=Object(c.a)(r,2),y=o[0],O=o[1],E=Object(u.useState)(!1),D=Object(c.a)(E,2),j=D[0],I=D[1],N=Object(u.useState)(!0),x=Object(c.a)(N,2),C=x[0],k=x[1],w=Object(u.useState)([]),T=Object(c.a)(w,2),A=T[0],M=T[1],P=Object(u.useState)([]),J=Object(c.a)(P,2),z=J[0],R=J[1],F=Object(u.useState)(v),q=Object(c.a)(F,2),U=q[0],B=q[1],H=Object(u.useState)([]),L=Object(c.a)(H,2),_=L[0],G=L[1],Y=Object(u.useState)(""),K=Object(c.a)(Y,2),V=K[0],W=K[1],Q=Object(u.useReducer)(S,{}),X=Object(c.a)(Q,2),Z=X[0],$=X[1],tt=s.a.useForm(),et=Object(c.a)(tt,1)[0],nt=Object(u.useState)(!1),at=Object(c.a)(nt,2),ct=at[0],rt=at[1],ot=Object(u.useState)(""),ut=Object(c.a)(ot,2),it=ut[0],lt=ut[1],st=Object(u.useState)(""),ft=Object(c.a)(st,2),dt=ft[0],gt=ft[1],ht=Object(u.useState)(""),mt=Object(c.a)(ht,2),pt=mt[0],bt=mt[1],St=Object(u.useState)(""),vt=Object(c.a)(St,2),yt=vt[0],Ot=vt[1],Et=Object(u.useState)(""),Dt=Object(c.a)(Et,2),jt=Dt[0],It=Dt[1],Nt=Object(u.useState)(""),xt=Object(c.a)(Nt,2),Ct=xt[0],kt=xt[1],wt=Object(u.useState)(""),Tt=Object(c.a)(wt,2),At=Tt[0],Mt=Tt[1],Pt=Object(u.useState)(""),Jt=Object(c.a)(Pt,2),zt=Jt[0],Rt=Jt[1];Object(u.useEffect)((function(){qt(),It("USD"),kt("fr")}),[]);var Ft=function(t){console.log(t.target.value),$({name:t.target.name,value:t.target.value})},qt=function(){Object(m.w)(1).then((function(t){for(var e={},n=0,a=t.content.length;n<a;n++)e[t.content[n].subject]=t.content[n];for(var c in t.content=new Array,e)t.content.push(e[c]);M(t.content)}))};return Object(u.useEffect)((function(){B(v.filter((function(t){return!_.includes(Number(t))})))}),[_]),i.a.createElement("div",null,i.a.createElement(f.a,{ghost:!1,title:i.a.createElement("p",{style:{fontSize:"3em",textAlign:"center",marginTop:"20px",marginBottom:"20px"}},"Create Schedule"),extra:[]},i.a.createElement(s.a,{form:et,autoComplete:"off",onFinish:function(){if(Z.startDate&&Z.endDate)if(Z.endDate.toString().length<=0||Z.startDate.toString().length<=0)alert("Please, fill the form 1!");else{if(rt(!0),Z.endDate<Z.startDate)return alert("Start date cannot be after end date"),void rt(!1);var e=new Date(Z.startDate+"T"+Z.startTime+":00"),n=(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")+"/"+e.getFullYear()+" "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":00 -0500",a=new Date(Z.endDate+"T"+Z.startTime+":00"),c=(a.getMonth()+1).toString().padStart(2,"0")+"/"+a.getDate().toString().padStart(2,"0")+"/"+a.getFullYear()+" "+a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0")+":00 -0500",r=[],o=JSON.parse(localStorage.getItem("tenant"+JSON.parse(localStorage.getItem("user")).id));C?r.push({subject:V,startDate:n,endDate:c,grades:_,durationInMinutes:it,repeatPeriodInDays:dt,name:pt,description:yt,currency:jt,language:Ct,price:At,imageUrl:zt,tenant:{key:o}}):z.forEach((function(t){return r.push({subject:t,startDate:n,endDate:c,grades:_,durationInMinutes:it,repeatPeriodInDays:dt,name:pt,description:yt,currency:jt,language:Ct,price:At,imageUrl:zt,tenant:{key:o}})})),console.log("schedule to register ===>",r),Object(h.g)(r).then((function(e){console.log("schedule registered ===>",e),t.push("/schedules")})).finally((function(){return rt(!1)}))}else alert("Please, fill the form 2!")},layout:"vertical",onKeyPress:function(t){13===t.which&&t.preventDefault()},style:{width:"80%",marginLeft:"10%"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},C?i.a.createElement(s.a.Item,{label:"Subject (press Escape to view existing subject)",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{autoFocus:!0,type:"text",name:"subject",value:V,onKeyUp:function(t){"Escape"===t.key&&k(!1),"Enter"===t.key&&(M([].concat(Object(a.a)(A),[{subject:t.target.value,id:A.length+1}])),k(!1))},onChange:function(t){return W(t.target.value)}})):i.a.createElement(s.a.Item,{label:"Subjects",required:!0,onClick:function(){return O(!y)},style:{flex:1,marginRight:"10px"}},i.a.createElement(d.a,{mode:"multiple",allowClear:!0,open:y,onFocus:function(){return O(!0)},onBlur:function(){return O(!1)},onSelect:function(){return O(!1)},placeholder:"Please select subjects",onChange:function(t){null==t[t.length-1]?k(!0):R(t)}},i.a.createElement(d.a.Option,{value:null},"Create a new subject"),A.map((function(t){return i.a.createElement(d.a.Option,{value:t.subject,key:t.id},t.subject)})))),i.a.createElement(s.a.Item,{label:"Name",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"text",name:"name",onChange:function(t){return bt(t.target.value)}})),i.a.createElement(s.a.Item,{label:"Duration (in minutes)",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"number",min:0,name:"durationInMinutes",step:10,onChange:function(t){return lt(t.target.value)}}))),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(s.a.Item,{label:"Start date",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"date",name:"startDate",onChange:Ft})),i.a.createElement(s.a.Item,{label:"Start time",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"time",name:"startTime",onChange:Ft})),i.a.createElement(s.a.Item,{label:"End date",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"date",name:"endDate",onChange:Ft}))),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(s.a.Item,{label:"Image Url",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"text",name:"imageUrl",onChange:function(t){return Rt(t.target.value)}})),i.a.createElement(s.a.Item,{label:"Grades",required:!0,onClick:function(){return I(!j)},style:{flex:1,marginRight:"10px"}},i.a.createElement(d.a,{mode:"multiple",allowClear:!0,open:j,value:_,onFocus:function(){return I(!0)},onBlur:function(){return I(!1)},onSelect:function(){return I(!1)},placeholder:"Please select grades",onChange:function(t){G(t.toString().split(",").map((function(t){return Number(t)})))}},U.map((function(t){return i.a.createElement(d.a.Option,{key:t,value:t},t)})))),i.a.createElement(s.a.Item,{label:"Repeat period (in days)",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"number",min:0,name:"repeatPeriodInDays",onChange:function(t){return gt(t.target.value)}}))),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(s.a.Item,{label:"Price",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(l.a,{type:"number",min:0,name:"price",onChange:function(t){return Mt(t.target.value)}})),i.a.createElement(s.a.Item,{label:"Currency",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(d.a,{defaultValue:"USD",onChange:function(t){It(t)}},i.a.createElement(d.a.Option,{value:"USD",name:"currency"},"USD"),i.a.createElement(d.a.Option,{value:"CAD",name:"currency"},"CAD"),i.a.createElement(d.a.Option,{value:"EUR",name:"currency"},"EUR"))),i.a.createElement(s.a.Item,{label:"Language",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(d.a,{defaultValue:"fr",onChange:function(t){kt(t)}},i.a.createElement(d.a.Option,{value:"fr",name:"language"},"French"),i.a.createElement(d.a.Option,{value:"en",name:"language"},"English"),i.a.createElement(d.a.Option,{value:"de",name:"language"},"German"),i.a.createElement(d.a.Option,{value:"es",name:"language"},"Spanish")))),i.a.createElement(s.a.Item,{label:"Description",required:!0,style:{flex:1,marginRight:"10px"}},i.a.createElement(b,{rows:3,name:"description",onChange:function(t){return Ot(t.target.value)}})),i.a.createElement(s.a.Item,null,i.a.createElement(g.a,{disabled:ct,type:"primary",size:"large",htmlType:"submit"},ct?"Loading...":"Create a Schedule")))))}}}]);
//# sourceMappingURL=33.a1d1ba9a.chunk.js.map